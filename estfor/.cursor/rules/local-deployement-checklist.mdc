---

description: "Local Docker-based deployment readiness checklist (preâ€‘launch)"
alwaysApply: false
---

# ğŸš€ Local Deployment Checklist (Docker Containers)

Use this rule to guide a local deployment readiness flow before shipping. Cursor will present each item with prompts and check status in sequence.

## 1. Test Coverage & Quality

- **Basic**: Unit tests pass locally. Coverage >= 60%.
- **Good**: Integration tests cover Docker services (e.g. service-to-service calls, local database).
- **Excellent**: End-to-end smoke tests via `docker-compose up` cleanup teardown.

When asked, verify: "Are all tests passing? Show coverage report."

## 2. Security Scanning

- **Basic**: Run `trivy` or `snyk` scan on Docker images to catch CVEs.
- **Good**: Scan environment variable files (`.env`) for secrets or plaintext tokens.
- **Excellent**: Validate local image signatures or policy files (e.g., image provenance).

Prompt: "Show me scan results and fix recommendations."

## 3. Performance Testing

- **Basic**: Manual local load test of endpoints (Docker CPU/memory).
- **Good**: Use `k6` or `locust` container to simulate HTTP or queue load.
- **Excellent**: Inject delays or failure modes into dependent containers to test resilience.

Ask: â€œWhat performance metrics and latencies are observed locally?â€

## 4. Health Checks

- **Basic**: Each service container returns HTTP 200 on `/health`.
- **Good**: Include liveness & readiness probes in Docker Compose config.
- **Excellent**: Simulate unhealthy states and confirm automatic failure detection.

Prompt: â€œValidate health-check endpoints and error handling.â€

## 5. Rollback Strategy

- **Basic**: You can stop and restart individual containers easily.
- **Good**: Use versioned tags (e.g., `myapp:latest`, `myapp:v1.2`) and compose override files.
- **Excellent**: Canary-like rollout simulation locally, switching versions on the fly.

Ask: â€œDemonstrate rollback steps using container tags.â€

## 6. Monitoring & Alerting

- **Basic**: TX/RX logs visible via `docker logs`.
- **Good**: Local aggregated logging (elk/Prometheus via containers).
- **Excellent**: Metrics collection and alert simulation (e.g. high error rate triggers warning).

Prompt: â€œShow local logs and alert triggers.â€

## 7. Documentation

- **Basic**: README includes Docker commands to build, run, and test.
- **Good**: Contains architecture of containers, env variable list, dependency graph.
- **Excellent**: Runbook or `local-deploy.md` with step-by-step troubleshooting and environment cleanup.

Ask: â€œOpen the documentation for deployment steps and verify completeness.â€

## 8. Configuration Management

- **Basic**: `.env` file with environment variables.
- **Good**: Different `.env` files per environment (`.env.dev`, `.env.test`).
- **Excellent**: Use Docker secrets or mounted config files outside code, validated at runtime.

Prompt: â€œValidate config injection and schema correctness.â€

## 9. Database Migration Strategy

- **Basic**: Manual schema scripts run in local database container.
- **Good**: Versioned migration scripts (e.g., Flyway, Liquibase) executed on startup.
- **Excellent**: Zero-downtime migration simulation: shadow tables or schema switch locally.

Ask: â€œRun migrations and confirm data integrity after restart.â€

---

# âœ… How to Use:

1. In Cursor IDE chat, prompt:
    
    **â€œStart local deployment checklist.â€**
    
    Cursor will reference this `.mdc` rule and guide you through each section.
    
2. For each category, answer when prompted (e.g. â€œUnit tests passâ€”coverage 75%â€), or ask Cursor to show logs/results.
3. If a check fails, Cursor should pause and ask clarifying questions (e.g. â€œTest suite failed on Firestore emulator, provide outputâ€).
4. At the end, ask:
    
    **â€œSummarize missing or incomplete deployment readiness steps.â€**
    
    Cursor will produce a Markdown summary or even draft a GitHub issue.