---
description: GCP deployment preparedness checklist for Cloud Functions, Cloud Run, Pub/Sub, Firestore, BigQuery, Cloud Build
globs:
  - "**/*"
  - "**/deployment/**"
alwaysApply: false
---

# GCP Deployment Checklist

When you request: â€œRun the deployment readiness checklistâ€, the AI will walk through each section, prompting for status and providing guidance.

## âœ… Test Coverage & Quality
- **Basic** â€“ Confirm unit test coverage â‰¥â€¯60%. Tests for basic logic only.
- **Good** â€“ Integration tests covering Pub/Sub triggers, Firestore operations, Cloud Function logic executed via Cloud Build.
- **Excellent** â€“ Full endâ€‘toâ€‘end workflows via emulators or staging environment, blocking deploys on failure.

## ğŸ”’ Security Scanning
- **Basic** â€“ Scan dependencies for known CVEs.
- **Good** â€“ Detect secrets in code, audit IAM roles, enforce leastâ€‘privilege design.
- **Excellent** â€“ Enforce Binary Authorization policies in build pipelines; use Secret Manager + strict IAM policies.

## ğŸ“ˆ Performance Testing
- **Basic** â€“ Manual run under expected input volumes.
- **Good** â€“ Loadâ€‘test via Pub/Sub replay and Cloud Run endpoints using tools like k6 or Locust.
- **Excellent** â€“ Inject latency and failures (chaos testing); simulate higher concurrency and large BigQuery loads.

## â¤ï¸ Health Checks
- **Basic** â€“ Cloud Run returns HTTP 200 on root endpoint.
- **Good** â€“ Liveness/readiness probes set up and DLQ (dead-letter topics) enabled for Pub/Sub.
- **Excellent** â€“ Automated uptime pings and DLQ monitoring with alerts on failures or slow responses.

## â™»ï¸ Rollback Strategy
- **Basic** â€“ Manual rollback via gcloud deploy or redeploy prior version.
- **Good** â€“ Retain Cloud Run revisions; easy rollback through CLI/UI.
- **Excellent** â€“ Cloud Build or Cloud Deploy pipeline includes auto-rollback triggered by alert thresholds or telemetry anomalies.

## ğŸ”” Monitoring & Alerting
- **Basic** â€“ Logs collected in Cloud Logging; manual search used.
- **Good** â€“ Metrics defined in Cloud Monitoring (errors, latency, message queue depth) with alerting policies.
- **Excellent** â€“ SLO-based policies, trace analysis, dashboards, and incident routing via PagerDuty or Slack.

## ğŸ“ Documentation
- **Basic** â€“ README per function/service with brief usage and deploy instructions.
- **Good** â€“ API docs, architecture diagrams, config guidance stored in Notion or GitHub wiki.
- **Excellent** â€“ Runbooks for common failure modes, deployment rollback procedures, dependency maps, operator guides.

## âš™ï¸ Configuration Management
- **Basic** â€“ Use `.env` or environment variables, possibly with some hardcoded values.
- **Good** â€“ Strict separation of environment-specific values; secrets stored in Secret Manager; deploy-time validation.
- **Excellent** â€“ Dynamic config distribution via Firestore or Storage; pipelines inject and verify environments automatically.

## ğŸ§¬ Database Migration Strategy
- **Basic** â€“ Manual edits or schema updates in Firestore or BigQuery.
- **Good** â€“ Use versioned migration scripts stored in Git and manually executed pre-deploy.
- **Excellent** â€“ Migrations automated in CI/CD with zero-downtime strategies (e.g. staged tables, copy-and-switch, Firestore admin SDK).

---

## ğŸ“‹ Conversation Prompts

The AI will prompt iteratively:

1. â€œLetâ€™s run the deployment readiness checklist. Starting with *Test Coverage & Quality*: whatâ€™s your current level?â€
2. After user response: offer guidance or recommendations if not at â€œExcellentâ€.
3. Proceed through all categories.
4. At the end: â€œSummary â€“ hereâ€™s whatâ€™s complete and what needs improvement. Would you like a Markdown summary or a draft GitHub issue?â€

---

## âœ… Usage Tips
- Name file **`deployment-checklist.mdc`**, placed under `.cursor/rules/`.
- Call Rule manually in Cursor chat via `@deployment-checklist` â†’ â€œRun checklistâ€.
- Keep each action prompt short to stay within Cursorâ€™s context window.
- Adjust descriptions or add CI-specific details as needed.

---
<!-- version.md -->

# ğŸš€ GCP Deployment Readiness Summary â€“ `v{{VERSION_LABEL}}` â€“ `{{DATE_ISO}}`

| Deployment Category          | Current Level  | Status | Comments/Notes                                     |
|-----------------------------|----------------|--------|----------------------------------------------------|
| Test Coverage & Quality     | {{LEVEL}}      | {{STAT}} | e.g. "Unit â‰¥60â€¯%, Integration pub/sub â†’ bq â€“ PASS" |
| Security Scanning           | {{LEVEL}}      | {{STAT}} | e.g. "CVE scan, IAM audit â€“ in progress"           |
| Performance Testing         | {{LEVEL}}      | {{STAT}} |                                                     |
| Health Checks               | {{LEVEL}}      | {{STAT}} |                                                     |
| Rollback Strategy           | {{LEVEL}}      | {{STAT}} |                                                     |
| Monitoring & Alerting       | {{LEVEL}}      | {{STAT}} |                                                     |
| Documentation               | {{LEVEL}}      | {{STAT}} |                                                     |
| Configuration Management    | {{LEVEL}}      | {{STAT}} |                                                     |
| Database Migration Strategy | {{LEVEL}}      | {{STAT}} |                                                     |

---

## âœ… Summary Overview

- **Completed (âœ“)**: Categories at **Good** or **Excellent** level with no open gaps.  
- **In Progress (âš )**: At **Basic** or mid-level; requires focused improvement.  
- **Missing (âœ—)**: Bare-minimum or absent; critical for deployment safety.

---

## ğŸ›  Notable Gaps & Action Items

### {{CATEGORY_NAME_WITH_ISSUE}}
- **Current level**: {{CURRENT_LEVEL}}
- **Gaps**:
  - [ ] {{ACTION_ITEM_1}}
  - [ ] {{ACTION_ITEM_2}}
- **Dependencies**: e.g. `"set up staging path + emulator before integrating E2E"`

_Repeat the block above for each category marked âš  or âœ—._

---

## ğŸš¦ Next Steps

- Prioritize categories in **âš  / âœ— order**.
- Assign owners and due dates.
- Schedule checkpoints for follow-up.

---

## ğŸ§­ References

- This deployment checklist ties to the `.cursor/rules/deployment-checklist.mdc` cursor rule.
- Cursor generates this file automatically after the checklist run; once reviewed, commit as part of your CI build artifact or attach to a GitHub issue or Notion page.

---

*Formatting notes:*
- Version headers use the format **`v<version>`** (e.g. `v0.1.2`, or a Git tag).  
- Dates should always be **ISO 8601 style** (YYYYâ€‘MMâ€‘DD) for consistency (e.g. `2025-08-03`)  [oai_citation:1â€¡keepachangelog.com](https://keepachangelog.com/en/1.1.0/?utm_source=chatgpt.com).  
- Bullet points follow simple, grouped-list style so status tracking remains clear  [oai_citation:2â€¡keepachangelog.com](https://keepachangelog.com/en/1.1.0/?utm_source=chatgpt.com).